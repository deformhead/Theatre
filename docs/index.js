!function(A){var t={};function e(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return A[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=A,e.c=t,e.d=function(A,t,s){e.o(A,t)||Object.defineProperty(A,t,{enumerable:!0,get:s})},e.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},e.t=function(A,t){if(1&t&&(A=e(A)),8&t)return A;if(4&t&&"object"==typeof A&&A&&A.__esModule)return A;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:A}),2&t&&"string"!=typeof A)for(var n in A)e.d(s,n,function(t){return A[t]}.bind(null,n));return s},e.n=function(A){var t=A&&A.__esModule?function(){return A.default}:function(){return A};return e.d(t,"a",t),t},e.o=function(A,t){return Object.prototype.hasOwnProperty.call(A,t)},e.p="",e(e.s=4)}([function(A){A.exports={0:[0,8],1:[1,8],2:[2,8],3:[3,8],4:[4,8],5:[5,8],6:[6,8],7:[7,8],8:[8,8],9:[9,8],f:[5,7],p:[15,7],s:[18,7],":":[22,8]}},function(A){A.exports={IDLE_UP:[3,0],IDLE_RIGHT:[3,1],IDLE_DOWN:[3,2],IDLE_LEFT:[3,3],RUN_UP:[[0,0],[1,0],[2,0],[3,0]],RUN_RIGHT:[[0,1],[1,1],[2,1],[3,1]],RUN_DOWN:[[0,2],[1,2],[2,2],[3,2]],RUN_LEFT:[[0,3],[1,3],[2,3],[3,3]]}},function(A,t){A.exports="data:image/png;base64,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"},function(A,t){A.exports="data:image/png;base64,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"},function(A,t,e){"use strict";e.r(t);var s={};e.r(s),e.d(s,"destroy",function(){return f}),e.d(s,"render",function(){return c}),e.d(s,"setup",function(){return d}),e.d(s,"start",function(){return h}),e.d(s,"update",function(){return g});var n={};e.r(n),e.d(n,"destroy",function(){return u}),e.d(n,"render",function(){return l}),e.d(n,"setup",function(){return O}),e.d(n,"start",function(){return y}),e.d(n,"update",function(){return R});var i={};e.r(i),e.d(i,"loading",function(){return s}),e.d(i,"demo",function(){return n});const o=[{name:"font",scope:"demo",source:e(0),type:"dataset"},{name:"wizard",scope:"demo",source:e(1),type:"dataset"}],r=[{name:"font",scope:"demo",source:e(2),type:"image"},{name:"wizard",scope:"demo",source:e(3),type:"image"}],a=[...o,...r,...[]];function f(){console.log("destroy loading scene"),console.log("-------"),delete this.state.redirect}function c(){this.context.fillStyle="#181a1f",this.context.fillRect(0,0,this.size.width,this.size.height),this.context.font="16px Courier New",this.context.textAlign="start",this.context.textBaseline="top",this.context.fillStyle="#6b717d",this.context.fillText("/ Theatre",8,8),this.context.fillStyle="#d7dae0",this.context.fillText("$ preloading assets...",8,32),!1===this.preloading&&(this.context.fillText("$ preloading completed",8,56),this.context.fillText("$ loading demo scene...",8,80))}function d(){console.log("setup loading scene")}function h(){console.log("start loading scene"),this.state.redirect=!1}function g(){!1===this.preloading&&!1===this.state.redirect&&(setTimeout(()=>{this.load("demo")},3e3),this.state.redirect=!0)}function u(){console.log("destroy demo scene"),this.keyboard.destroy(),delete this.inputs,delete this.world,delete this.keyboard,delete this.systems,console.log("-------")}function l(){this.context.fillStyle="#a8c0b0",this.context.fillRect(0,0,this.size.width,this.size.height),this.systems.framerate.update.call(this,this.world.entities),this.systems.image.update.call(this,this.world.entities),this.systems.text.update.call(this,this.world.entities)}const v=[];v[9]="TAB",v[13]="ENTER",v[16]="SHIFT",v[17]="CTRL",v[18]="ALT",v[27]="ESC",v[32]="SPACE",v[37]="LEFT",v[38]="UP",v[39]="RIGHT",v[40]="DOWN",v[48]="ZERO",v[49]="ONE",v[50]="TWO",v[51]="THREE",v[52]="FOUR",v[53]="FIVE",v[54]="SIX",v[55]="SEVEN",v[56]="EIGHT",v[57]="NINE",v[65]="A",v[66]="B",v[67]="C",v[68]="D",v[69]="E",v[70]="F",v[71]="G",v[72]="H",v[73]="I",v[74]="J",v[75]="K",v[76]="L",v[77]="M",v[78]="N",v[79]="O",v[80]="P",v[81]="Q",v[82]="R",v[83]="S",v[84]="T",v[85]="U",v[86]="V",v[87]="W",v[88]="X",v[89]="Y",v[90]="Z";const p=37,m=38,B=39,C=40;function E(A,t){this.components={},this.name=A,this.add=function(A){A.forEach(A=>{this.components[A.name]=A})},this.get=function(A){return this.components[A]},this.has=function(A){for(let t=0,e=A.length;t<e;t+=1){const e=A[t];if(!1===this.components.hasOwnProperty(e))return!1}return!0},this.remove=function(A){for(let t=0,e=A.length;t<e;t+=1){const e=A[t];!0===this.components.hasOwnProperty(e)&&delete this.components[e]}},this.add(t)}function w(A,t){this.update=function(e){e.forEach(e=>{!0===e.has(A)&&t(e)})}}function Q(A,t){this.name="animation",this.framerate=t||8,this.frames=A,this.frame=0,this.current=this.frames[this.frame],this.elapsed=0}function P(A){this.name="direction",this.direction=A}function b(){this.name="run"}function D(A){this.name="spritesheet",this.spritesheet=A}function O(){console.log("setup demo scene"),this.inputs=[],this.keyboard=new function(A,t){const e=[],s={};function n(){for(let A in s)s.hasOwnProperty(A)&&!0===s[A]&&(s[A]=!1,t.push({type:"KEYBOARD",action:A,state:"UP"}))}function i(n){const i=n.keyCode,o=A.indexOf(i);-1!==o&&!1===s[e[o]]&&(n.preventDefault(),s[e[o]]=!0,t.push({type:"KEYBOARD",action:e[o],state:"DOWN"}))}function o(n){const i=n.keyCode,o=A.indexOf(i);-1!==o&&!0===s[e[o]]&&(n.preventDefault(),s[e[o]]=!1,t.push({type:"KEYBOARD",action:e[o],state:"UP"}))}function r(){addEventListener("blur",n),addEventListener("keydown",i),addEventListener("keyup",o)}A.forEach(t=>{if(void 0!==v[t]){const n="KEY_"+v[t];A.push(t),e.push(n),s[n]=!1}}),r.call(this),this.destroy=function(){removeEventListener("blur",n),removeEventListener("keydown",i),removeEventListener("keyup",o)},this.setup=r}([m,B,C,p],this.inputs),this.systems={framerate:new w(["framerate"],function(A){const t=A.get("framerate");t.elapsed+=this.delta.render,t.frames+=1,t.elapsed>=1e3&&(A.get("text").text="fps:"+Math.round(1e3*t.frames/t.elapsed),t.elapsed=0,t.frames=0)}.bind(this)),image:new w(["image","position"],function(A){const t=A.get("image"),e=A.get("position");this.context.drawImage(t.image,t.frame[0]*t.size[0],t.frame[1]*t.size[1],t.size[0],t.size[1],e.x,e.y,t.size[0],t.size[1])}.bind(this)),text:new w(["alphabet","position"],function(A){const t=A.get("alphabet"),e=A.get("position"),s=A.get("spritesheet");A.get("text").text.split("").forEach((A,n)=>{this.context.drawImage(t.image,s.spritesheet[A][0]*t.size[0],s.spritesheet[A][1]*t.size[1],t.size[0],t.size[1],e.x+n*t.size[0],e.y,t.size[0],t.size[1])})}.bind(this)),animate:new w(["animation"],function(A){const t=A.get("animation");if(t.frames.length>1){t.elapsed+=this.delta.update;const A=1e3/t.framerate;for(;t.elapsed>=A;)t.elapsed-=A,t.frame=t.frame===t.frames.length-1?0:t.frame+1,t.current=t.frames[t.frame]}}.bind(this)),input:new w(["input"],function(A){this.inputs.forEach(t=>{const e=A.get("direction"),s=A.get("image"),n=A.get("input"),i=A.get("spritesheet");if(-1!==n.inputs.indexOf(t.action)&&"DOWN"===t.state)switch(t.action){case"KEY_UP":A.add([new b,new P("UP"),new Q(i.spritesheet.RUN_UP)]);break;case"KEY_RIGHT":A.add([new b,new P("RIGHT"),new Q(i.spritesheet.RUN_RIGHT)]);break;case"KEY_DOWN":A.add([new b,new P("DOWN"),new Q(i.spritesheet.RUN_DOWN)]);break;case"KEY_LEFT":A.add([new b,new P("LEFT"),new Q(i.spritesheet.RUN_LEFT)])}else if(!0===A.has(["run"])&&-1!==n.inputs.indexOf(t.action)&&"UP"===t.state)switch(t.action){case"KEY_UP":"UP"===e.direction&&(A.remove(["animation","run"]),s.frame=i.spritesheet.IDLE_UP);break;case"KEY_RIGHT":"RIGHT"===e.direction&&(A.remove(["animation","run"]),s.frame=i.spritesheet.IDLE_RIGHT);break;case"KEY_DOWN":"DOWN"===e.direction&&(A.remove(["animation","run"]),s.frame=i.spritesheet.IDLE_DOWN);break;case"KEY_LEFT":"LEFT"===e.direction&&(A.remove(["animation","run"]),s.frame=i.spritesheet.IDLE_LEFT)}})}.bind(this)),reframe:new w(["animation","image"],function(A){A.get("image").frame=A.get("animation").current}.bind(this))}}function I(A,t){this.name="position",this.x=A,this.y=t}function y(){console.log("start demo scene"),this.inputs.length=0,this.world=new function(){this.entities=[],this.add=function(A){this.entities.push(A)},this.get=function(A){for(let t=0,e=this.entities.length;t<e;t+=1){const e=this.entities[t];if(e.name===A)return e}},this.remove=function(A){this.entities.splice(this.entities.indexOf(A),1)}},this.world.add(new E("hero",[new P("DOWN"),new function(A,t,e){this.name="image",this.image=A,this.size=t,this.frame=e}(this.assets.images.demo.wizard,[32,32],[3,2]),new function(A){this.name="input",this.inputs=A}(["KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_LEFT"]),new I(this.size.width/2-16,this.size.height/2-16),new D(this.assets.datasets.demo.wizard)])),this.world.add(new E("framerate",[new I(8,8),new function(A){this.name="text",this.text=A}("fps:60"),new function(){this.name="framerate",this.elapsed=0,this.frames=0},new function(A,t){this.name="alphabet",this.image=A,this.size=t}(this.assets.images.demo.font,[16,32]),new D(this.assets.datasets.demo.font)]))}function R(){this.systems.input.update.call(this,this.world.entities),this.systems.animate.update.call(this,this.world.entities),this.systems.reframe.update.call(this,this.world.entities),this.inputs.length=0}new function(A){const{assets:t,container:e,scenes:s,size:n}=A,i=A.expose||!1,o=A.framerate||60,r=A.sharp||!1,a=A.speed||1;let f=null,c=!1;this.preloading=!1,this.scenes=s,this.size=n,this.state={},this.version="0.13.0",this.load=function(A){f=A},this.restart=function(){c=!0},function(){const A=new function(A,t,e,s){const n=document.createElement("canvas"),i=n.getContext(A);n.setAttribute("id",t),n.setAttribute("height",s),n.setAttribute("width",e),this.context=i,this.element=n,this.sharp=function(){this.element.style.imageRendering="-moz-crisp-edges",this.element.style.imageRendering="-webkit-crisp-edges",this.element.style.imageRendering="crisp-edges",this.element.style.imageRendering="pixelated",this.context.imageSmoothingEnabled=!1}}("2d","theatre",n.width,n.height);!0===r&&A.sharp(),e.appendChild(A.element),this.container=e,this.context=A.context,this.element=A.element,this.assets={},this.delta={},this.delta.render=0,this.delta.update=0,this.scene=this.scenes.loading,this.scene.setup.call(this),this.scene.start.call(this);const s=new function(A=60,t=1){let e=0,s=null,n=null;this.framerate=A,this.speed=t,this.render=function(A){const t=Date.now();null!==s&&A(t-s),requestAnimationFrame(this.render.bind(this,A)),s=t},this.update=function(A){const t=Date.now();for(null!==n&&(e+=t-n);e>=1e3/this.framerate/this.speed;)e-=1e3/this.framerate/this.speed,A(1e3/this.framerate);n=t,setTimeout(this.update.bind(this,A),1e3/Math.max(this.framerate,60))}}(o,a);s.update(A=>(this.delta.update=A,this.scene.update.call(this),!0===c?(this.scene.start.call(this),void(c=!1)):null!==f?(this.scene.destroy.call(this),this.scene=this.scenes[f],this.scene.setup.call(this),this.scene.start.call(this),void(f=null)):void 0)),s.render(A=>{this.delta.render=A,this.scene.render.call(this)}),function(A,t){let e=[];A.forEach(function(A){const t=new Promise(function(t,e){if("dataset"===A.type&&(A.content=A.source,t(A)),"image"===A.type){const e=new Image;e.src=A.source,e.onload=function(){A.content=e,t(A)}}else if("sound"===A.type){const e=new Audio(A.source);e.oncanplaythrough=function(){A.content=e,t(A)}}});e.push(t)}),Promise.all(e).then(t)}(t,A=>{A.forEach(A=>{void 0===this.assets[A.type+"s"]&&(this.assets[A.type+"s"]={}),void 0===this.assets[A.type+"s"][A.scope]&&(this.assets[A.type+"s"][A.scope]={}),this.assets[A.type+"s"][A.scope][A.name]=A.content}),this.preloading=!1}),this.loop=s,this.preloading=!0}.call(this,A),!0===i&&(window.theatre=this)}({assets:a,container:document.body,expose:!0,scenes:i,sharp:!0,size:{width:320,height:288}})}]);
//# sourceMappingURL=index.js.map